import{r,z as u,j as e}from"./react-vendor-2s10cGd1.js";import{a as f}from"./index-BTRQmK2q.js";import"./chart-vendor-BsnJAHr2.js";import"./bootstrap-vendor-CM53U_Of.js";import"./vendor-axios-ngrFHoWO.js";import"./pdf-vendor-BZobkf7J.js";import"./vendor-utils-DLELI0UM.js";import"./excel-vendor-6kUf8nhb.js";const G=[{value:"full_time",label:"Full-time"},{value:"part_time",label:"Part-time"},{value:"locum",label:"Locum"}],Q=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],N=[{key:"sun",label:"Sun"},{key:"mon",label:"Mon"},{key:"tue",label:"Tue"},{key:"wed",label:"Wed"},{key:"thu",label:"Thu"},{key:"fri",label:"Fri"},{key:"sat",label:"Sat"}],pe={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};function ke(){const D={id:null,dentist_code:"",dentist_name:"",is_pseudonymous:!0,employment_type:"full_time",status:"active",contract_end_date:"",email:"",temporary_password:"",email_verified:!1,password_changed:!1,sun:!1,mon:!0,tue:!0,wed:!0,thu:!0,fri:!0,sat:!1,mon_start_time:"",mon_end_time:"",tue_start_time:"",tue_end_time:"",wed_start_time:"",wed_end_time:"",thu_start_time:"",thu_end_time:"",fri_start_time:"",fri_end_time:"",sat_start_time:"",sat_end_time:"",sun_start_time:"",sun_end_time:""},[S,X]=r.useState([]),[Z,A]=r.useState(!0),[T,F]=r.useState(!1),[C,ee]=r.useState(""),[t,p]=r.useState(D),[d,v]=r.useState({}),[se,y]=r.useState(!1),[k,M]=r.useState(!1),[te,$]=r.useState(!1),[c,_e]=r.useState(null),[_,L]=r.useState({email:"",name:""}),[P,W]=r.useState(!1),[z,ae]=r.useState([]);r.useEffect(()=>{g(),le()},[]);const g=async()=>{try{A(!0);const s=await f.get("/api/dentists");X(s.data)}catch(s){console.error(s),u.error("Failed to load dentists. Check admin auth and routes.")}finally{A(!1)}},le=async()=>{try{const s=await f.get("/api/weekly-schedule");ae(s.data)}catch(s){console.error("Failed to load weekly schedule",s)}},R=r.useMemo(()=>{const s=C.trim().toLowerCase();return s?S.filter(l=>(l.dentist_code||"").toLowerCase().includes(s)||(l.dentist_name||"").toLowerCase().includes(s)||(l.employment_type||"").toLowerCase().includes(s)||(l.status||"").toLowerCase().includes(s)):S},[S,C]),ie=()=>{p(D),v({}),M(!1),y(!0)},m=s=>s?s.includes(":")&&s.split(":").length===3?s.substring(0,5):s:"",Y=s=>{p({id:s.id,dentist_code:s.dentist_code||"",dentist_name:s.dentist_name||"",is_pseudonymous:!!s.is_pseudonymous,employment_type:s.employment_type||"full_time",status:s.status||"active",contract_end_date:s.contract_end_date||"",email:s.email||"",temporary_password:s.temporary_password||"",email_verified:!!s.email_verified,password_changed:!!s.password_changed,sun:!!s.sun,mon:!!s.mon,tue:!!s.tue,wed:!!s.wed,thu:!!s.thu,fri:!!s.fri,sat:!!s.sat,mon_start_time:m(s.mon_start_time||""),mon_end_time:m(s.mon_end_time||""),tue_start_time:m(s.tue_start_time||""),tue_end_time:m(s.tue_end_time||""),wed_start_time:m(s.wed_start_time||""),wed_end_time:m(s.wed_end_time||""),thu_start_time:m(s.thu_start_time||""),thu_end_time:m(s.thu_end_time||""),fri_start_time:m(s.fri_start_time||""),fri_end_time:m(s.fri_end_time||""),sat_start_time:m(s.sat_start_time||""),sat_end_time:m(s.sat_end_time||""),sun_start_time:m(s.sun_start_time||""),sun_end_time:m(s.sun_end_time||"")}),v({}),M(!0),y(!0)},ne=()=>{const s={};return t.dentist_code.trim()||(s.dentist_code="Dentist code is required."),G.find(a=>a.value===t.employment_type)||(s.employment_type="Invalid employment type."),Q.find(a=>a.value===t.status)||(s.status="Invalid status."),N.some(a=>!!t[a.key])||(s.weekdays="Select at least one working day."),t.contract_end_date&&!/^\d{4}-\d{2}-\d{2}$/.test(t.contract_end_date)&&(s.contract_end_date="Use YYYY-MM-DD format."),!t.email||!t.email.trim()?s.email="Email address is required.":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email.trim())||(s.email="Please enter a valid email address."),N.forEach(a=>{var i,n;if(t[a.key]){const o=(i=t[`${a.key}_start_time`])==null?void 0:i.trim(),h=(n=t[`${a.key}_end_time`])==null?void 0:n.trim();if((o&&!h||!o&&h)&&(s[`${a.key}_times`]=`Both start and end times must be provided for ${a.label}, or leave both empty.`),o&&h){const x=new Date(`2000-01-01T${o}`);new Date(`2000-01-01T${h}`)<=x&&(s[`${a.key}_times`]=`End time must be after start time for ${a.label}.`)}}}),v(s),Object.keys(s).length===0},de=async s=>{var l,a,i,n,o,h,x,E,q,I,K,B,H,O,U,J,V;if(s.preventDefault(),!!ne()){F(!0);try{const j={dentist_code:t.dentist_code.trim(),dentist_name:((l=t.dentist_name)==null?void 0:l.trim())||null,is_pseudonymous:!!t.is_pseudonymous,employment_type:t.employment_type,status:t.status,contract_end_date:t.contract_end_date||null,email:(a=t.email)==null?void 0:a.trim(),sun:!!t.sun,mon:!!t.mon,tue:!!t.tue,wed:!!t.wed,thu:!!t.thu,fri:!!t.fri,sat:!!t.sat,...t.mon?{mon_start_time:((i=t.mon_start_time)==null?void 0:i.trim())||null,mon_end_time:((n=t.mon_end_time)==null?void 0:n.trim())||null}:{},...t.tue?{tue_start_time:((o=t.tue_start_time)==null?void 0:o.trim())||null,tue_end_time:((h=t.tue_end_time)==null?void 0:h.trim())||null}:{},...t.wed?{wed_start_time:((x=t.wed_start_time)==null?void 0:x.trim())||null,wed_end_time:((E=t.wed_end_time)==null?void 0:E.trim())||null}:{},...t.thu?{thu_start_time:((q=t.thu_start_time)==null?void 0:q.trim())||null,thu_end_time:((I=t.thu_end_time)==null?void 0:I.trim())||null}:{},...t.fri?{fri_start_time:((K=t.fri_start_time)==null?void 0:K.trim())||null,fri_end_time:((B=t.fri_end_time)==null?void 0:B.trim())||null}:{},...t.sat?{sat_start_time:((H=t.sat_start_time)==null?void 0:H.trim())||null,sat_end_time:((O=t.sat_end_time)==null?void 0:O.trim())||null}:{},...t.sun?{sun_start_time:((U=t.sun_start_time)==null?void 0:U.trim())||null,sun_end_time:((J=t.sun_end_time)==null?void 0:J.trim())||null}:{}};k&&t.id?(await f.put(`/api/dentists/${t.id}`,j),u.success("Dentist updated.")):(await f.post("/api/dentists",j),u.success("Dentist created.")),y(!1),g()}catch(j){const b=(V=j==null?void 0:j.response)==null?void 0:V.data;b!=null&&b.errors?v(b.errors):u.error((b==null?void 0:b.message)||"Save failed")}finally{F(!1)}}},re=async s=>{var l,a;if(confirm(`Delete dentist ${s.dentist_code}? This cannot be undone.`))try{await f.delete(`/api/dentists/${s.id}`),u.success("Deleted."),g()}catch(i){u.error(((a=(l=i==null?void 0:i.response)==null?void 0:l.data)==null?void 0:a.message)||"Delete failed.")}},ce=async()=>{var s,l,a,i;if(c){if(!_.email||!_.email.trim()){u.error("Email address is required.");return}if(!_.name||!_.name.trim()){u.error("Full name is required.");return}W(!0);try{const n=await f.post("/api/dentist/create-account",{dentist_schedule_id:c.id,email:_.email.trim(),name:_.name.trim()});u.success(`Account created successfully! Temporary password: ${n.data.temporary_password}`),$(!1),g()}catch(n){const o=((l=(s=n==null?void 0:n.response)==null?void 0:s.data)==null?void 0:l.message)||"Failed to create account.",h=(i=(a=n==null?void 0:n.response)==null?void 0:a.data)==null?void 0:i.errors;if(h){const x=Object.values(h).flat().join(`
`);u.error(`Validation errors:
${x}`)}else u.error(o)}finally{W(!1)}}},me=async s=>{var l,a;if(!s.email){u.error(`Please add an email address for ${s.dentist_code} first.`);return}if(confirm(`Create account for ${s.dentist_code}? This will send a temporary password to ${s.email}.`))try{const i=await f.post("/api/dentist/create-account",{dentist_schedule_id:s.id,email:s.email,name:s.dentist_name||s.dentist_code});u.success(`Account created successfully! Temporary password: ${i.data.temporary_password}`),g()}catch(i){u.error(((a=(l=i==null?void 0:i.response)==null?void 0:l.data)==null?void 0:a.message)||"Failed to create account.")}},oe=r.useMemo(()=>{const s={};return z.forEach(l=>{s[l.weekday]=l}),s},[z]),w=s=>{if(!s)return"";const l=s.split(":");if(l.length<2)return s;const a=parseInt(l[0],10),i=l[1];if(isNaN(a))return s;const n=a>=12?"PM":"AM";return`${a===0?12:a>12?a-12:a}:${i} ${n}`},ue=(s,l=null)=>{if(l){const n=`${s}_start_time`,o=`${s}_end_time`,h=l[n],x=l[o];if(h&&x)return`${w(h)} - ${w(x)}`}const a=pe[s],i=oe[a];return i&&i.is_open&&i.open_time&&i.close_time?`${w(i.open_time)} - ${w(i.close_time)}`:null},he=({on:s,label:l,hours:a,dentistRow:i,weekdayKey:n})=>{const o=i&&i[`${n}_start_time`]&&i[`${n}_end_time`];return e.jsxs("span",{className:`badge ${s?"bg-success":"bg-light text-muted"}`,style:{fontSize:"0.7rem"},children:[l,s&&a&&e.jsxs("span",{className:"ms-1",style:{fontSize:"0.65rem",opacity:.9},children:["(",a,o?" • Custom":"",")"]})]})};return e.jsxs("div",{className:"dentist-schedule-manager-page",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",minHeight:"100vh",width:"100%",padding:"1.5rem",boxSizing:"border-box"},children:[e.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"m-0 fw-bold",style:{color:"#1e293b"},children:[e.jsx("i",{className:"bi bi-person-badge me-2"}),"Dentist Schedule Management"]}),e.jsx("p",{className:"text-muted mb-0 mt-1",children:"Manage dentist schedules, employment types, and account creation"})]}),e.jsx("div",{className:"d-flex gap-2 flex-wrap",children:e.jsxs("button",{className:"btn border-0 shadow-sm",onClick:ie,style:{background:"linear-gradient(135deg, #00b4d8 0%, #0077b6 100%)",color:"white",borderRadius:"12px",padding:"12px 24px",fontWeight:"600",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"bi bi-plus-circle me-2"}),"Add New Dentist"]})})]}),e.jsx("div",{className:"card border-0 shadow-sm",style:{borderRadius:"16px"},children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"input-group",style:{maxWidth:"400px"},children:[e.jsx("span",{className:"input-group-text bg-white border-end-0",style:{borderRadius:"12px 0 0 12px"},children:e.jsx("i",{className:"bi bi-search text-muted"})}),e.jsx("input",{type:"text",className:"form-control border-start-0",style:{borderRadius:"0 12px 12px 0"},placeholder:"Search by code, name, type, or status...",value:C,onChange:s=>ee(s.target.value)})]})}),Z?e.jsxs("div",{className:"text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-2 text-muted",children:"Loading dentists..."})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover align-middle",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"fw-semibold",children:"Code"}),e.jsx("th",{scope:"col",className:"fw-semibold",children:"Name"}),e.jsx("th",{scope:"col",className:"fw-semibold",children:"Email"}),e.jsx("th",{scope:"col",className:"fw-semibold",children:"Account Status"}),e.jsx("th",{scope:"col",className:"fw-semibold",children:"Pseudonymous"}),e.jsx("th",{scope:"col",className:"fw-semibold",children:"Employment"}),e.jsx("th",{scope:"col",className:"fw-semibold",children:"Status"}),e.jsx("th",{scope:"col",className:"fw-semibold",children:"Weekdays"}),e.jsx("th",{scope:"col",className:"fw-semibold",children:"Contract End"}),e.jsx("th",{scope:"col",className:"fw-semibold",children:"Actions"})]})}),e.jsxs("tbody",{children:[R.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"fw-medium",children:s.dentist_code}),e.jsx("td",{children:s.dentist_name||e.jsx("span",{className:"text-muted",children:"—"})}),e.jsx("td",{children:s.email?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:s.email}),s.temporary_password&&e.jsxs("div",{className:"text-xs text-muted",children:["Temp: ",s.temporary_password]})]}):e.jsx("span",{className:"text-muted",children:"—"})}),e.jsx("td",{children:e.jsx("div",{className:"d-flex flex-column gap-1",children:s.email?e.jsx("span",{className:`badge ${s.password_changed?"bg-success":"bg-warning"}`,children:s.password_changed?"✓ Password Changed":"⚠ Temp Password"}):e.jsx("span",{className:"text-muted text-xs",children:"No Account"})})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${s.is_pseudonymous?"bg-info":"bg-secondary"}`,children:s.is_pseudonymous?"Yes":"No"})}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-primary",children:s.employment_type})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${s.status==="active"?"bg-success":"bg-danger"}`,children:s.status})}),e.jsx("td",{children:e.jsx("div",{className:"d-flex flex-wrap gap-1",children:N.map(l=>{const a=ue(l.key,s);return e.jsx(he,{on:!!s[l.key],label:l.label,hours:a,dentistRow:s,weekdayKey:l.key},l.key)})})}),e.jsx("td",{children:s.contract_end_date||e.jsx("span",{className:"text-muted",children:"—"})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex flex-column gap-1",children:[e.jsxs("div",{className:"btn-group btn-group-sm",role:"group",children:[e.jsxs("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>Y(s),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:[e.jsx("i",{className:"bi bi-pencil"})," Edit"]}),e.jsxs("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>re(s),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:[e.jsx("i",{className:"bi bi-trash"})," Delete"]})]}),s.email?s.temporary_password?e.jsx("span",{className:"text-muted text-xs",children:"Account Created"}):e.jsxs("button",{className:"btn btn-success btn-sm",onClick:()=>me(s),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:[e.jsx("i",{className:"bi bi-person-plus"})," Create Account"]}):e.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>Y(s),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:[e.jsx("i",{className:"bi bi-envelope-plus"})," Add Email"]})]})})]},s.id)),R.length===0&&e.jsx("tr",{children:e.jsxs("td",{className:"text-center text-muted py-4",colSpan:10,children:[e.jsx("i",{className:"bi bi-search display-6 d-block mb-2"}),"No dentists found matching your search criteria."]})})]})]})})]})}),se&&e.jsx("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content border-0 shadow-lg",style:{borderRadius:"16px"},children:[e.jsxs("div",{className:"modal-header border-0 pb-0",style:{background:"linear-gradient(135deg, #00b4d8 0%, #0077b6 100%)",borderRadius:"16px 16px 0 0"},children:[e.jsxs("h5",{className:"modal-title text-white fw-bold",children:[e.jsx("i",{className:"bi bi-person-badge me-2"}),k?"Edit Dentist":"Add New Dentist"]}),e.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>y(!1),"aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx("form",{id:"dentist-form",onSubmit:de,children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"form-label fw-semibold",children:["Dentist Code ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"text",className:`form-control ${d.dentist_code?"is-invalid":""}`,value:t.dentist_code,onChange:s=>p({...t,dentist_code:s.target.value}),placeholder:"e.g., D001"}),d.dentist_code&&e.jsx("div",{className:"invalid-feedback",children:String(d.dentist_code)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label fw-semibold",children:"Dentist Name (optional)"}),e.jsx("input",{type:"text",className:"form-control",value:t.dentist_name,onChange:s=>p({...t,dentist_name:s.target.value}),placeholder:"Dr. John Doe"})]}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"isPseudo",checked:!!t.is_pseudonymous,onChange:s=>p({...t,is_pseudonymous:s.target.checked})}),e.jsx("label",{className:"form-check-label",htmlFor:"isPseudo",children:"Use pseudonymous identity (hide real names)"})]})}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"form-label fw-semibold",children:["Employment Type ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("select",{className:`form-select ${d.employment_type?"is-invalid":""}`,value:t.employment_type,onChange:s=>p({...t,employment_type:s.target.value}),children:G.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),d.employment_type&&e.jsx("div",{className:"invalid-feedback",children:String(d.employment_type)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"form-label fw-semibold",children:["Status ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("select",{className:`form-select ${d.status?"is-invalid":""}`,value:t.status,onChange:s=>p({...t,status:s.target.value}),children:Q.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),d.status&&e.jsx("div",{className:"invalid-feedback",children:String(d.status)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label fw-semibold",children:"Contract End Date (optional)"}),e.jsx("input",{type:"date",className:`form-control ${d.contract_end_date?"is-invalid":""}`,value:t.contract_end_date||"",onChange:s=>p({...t,contract_end_date:s.target.value})}),d.contract_end_date&&e.jsx("div",{className:"invalid-feedback",children:String(d.contract_end_date)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"form-label fw-semibold",children:["Email Address ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("input",{type:"email",className:`form-control ${d.email?"is-invalid":""}`,value:t.email||"",onChange:s=>p({...t,email:s.target.value}),placeholder:"dentist@example.com",required:!0}),d.email&&e.jsx("div",{className:"invalid-feedback",children:String(d.email)})]}),k&&t.temporary_password&&e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label fw-semibold",children:"Temporary Password"}),e.jsxs("div",{className:"form-control-plaintext bg-light border rounded p-2",children:[e.jsx("code",{children:t.temporary_password}),e.jsx("small",{className:"text-muted ms-2",children:"(Auto-generated)"})]})]}),e.jsxs("div",{className:"col-12",children:[e.jsxs("label",{className:"form-label fw-semibold",children:["Working Days ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("div",{className:"row g-2 mb-3",children:N.map(s=>e.jsx("div",{className:"col-6 col-md-4 col-lg-3",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`day-${s.key}`,checked:!!t[s.key],onChange:l=>{const a={...t,[s.key]:l.target.checked};l.target.checked||(a[`${s.key}_start_time`]="",a[`${s.key}_end_time`]=""),p(a)}}),e.jsx("label",{className:"form-check-label",htmlFor:`day-${s.key}`,children:s.label})]})},s.key))}),d.weekdays&&e.jsx("div",{className:"text-danger small mt-1",children:String(d.weekdays)}),e.jsx("div",{className:"row g-3 mt-2",children:N.map(s=>{if(!t[s.key])return null;const l=`${s.key}_start_time`,a=`${s.key}_end_time`,i=d[`${s.key}_times`]||d[l]||d[a];return e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"card border",style:{borderRadius:"8px",padding:"12px"},children:[e.jsxs("label",{className:"form-label fw-semibold mb-2",children:[e.jsx("i",{className:"bi bi-clock me-1"}),s.label," Hours (Optional)"]}),e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("label",{className:"form-label small text-muted",children:"Start Time"}),e.jsx("input",{type:"time",className:`form-control form-control-sm ${i?"is-invalid":""}`,value:t[l]||"",onChange:n=>p({...t,[l]:n.target.value})})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("label",{className:"form-label small text-muted",children:"End Time"}),e.jsx("input",{type:"time",className:`form-control form-control-sm ${i?"is-invalid":""}`,value:t[a]||"",onChange:n=>p({...t,[a]:n.target.value})})]})]}),i&&e.jsx("div",{className:"text-danger small mt-1",children:String(i)}),e.jsx("small",{className:"text-muted",children:"Leave empty to work during clinic hours"})]})},`time-${s.key}`)})})]})]})})}),e.jsxs("div",{className:"modal-footer border-0 pt-0",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>y(!1),children:"Cancel"}),e.jsx("button",{disabled:T,type:"submit",form:"dentist-form",className:"btn btn-primary",style:{background:"linear-gradient(135deg, #00b4d8 0%, #0077b6 100%)",border:"none"},children:T?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"bi bi-check-circle me-2"}),k?"Save Changes":"Create Dentist"]})})]})]})})}),te&&e.jsx("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content border-0 shadow-lg",style:{borderRadius:"16px"},children:[e.jsxs("div",{className:"modal-header border-0 pb-0",style:{background:"linear-gradient(135deg, #00b4d8 0%, #0077b6 100%)",borderRadius:"16px 16px 0 0"},children:[e.jsxs("h5",{className:"modal-title text-white fw-bold",children:[e.jsx("i",{className:"bi bi-person-plus me-2"}),"Create Dentist Account"]}),e.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>$(!1),"aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-semibold",children:"Selected Dentist"}),e.jsx("div",{className:"form-control-plaintext bg-light border rounded p-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"bi bi-person-badge text-primary me-2"}),e.jsxs("div",{children:[e.jsx("strong",{children:c==null?void 0:c.dentist_code}),(c==null?void 0:c.dentist_name)&&e.jsxs("span",{className:"text-muted ms-2",children:["- ",c.dentist_name]})]})]})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-semibold",children:"Email Address"}),e.jsx("input",{type:"email",className:"form-control",value:_.email,onChange:s=>L({..._,email:s.target.value}),placeholder:"dentist@example.com",required:!0}),(c==null?void 0:c.email)&&_.email!==c.email&&e.jsxs("div",{className:"alert alert-warning mt-2 py-2",children:[e.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),e.jsxs("small",{children:["Email differs from schedule email (",c.email,") - this will be logged as an email change"]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-semibold",children:"Full Name"}),e.jsx("input",{type:"text",className:"form-control",value:_.name,onChange:s=>L({..._,name:s.target.value}),placeholder:"Dr. John Doe",required:!0})]}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"bi bi-info-circle me-2"}),e.jsx("strong",{children:"Note:"})," A temporary password will be generated and sent to the email address. The dentist will need to verify their email and change their password on first login."]})]}),e.jsxs("div",{className:"modal-footer border-0",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>$(!1),children:"Cancel"}),e.jsx("button",{disabled:P,onClick:ce,className:"btn btn-primary",style:{background:"linear-gradient(135deg, #00b4d8 0%, #0077b6 100%)",border:"none"},children:P?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"bi bi-person-plus me-2"}),"Create Account"]})})]})]})})})]})}export{ke as default};
